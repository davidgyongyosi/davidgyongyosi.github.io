---
// ProjectCard.astro
export interface Props {
  title: string;
  description: string;
  link: string;
  linkText: string;
  tags: string[];
  year?: string;
  status?: 'completed' | 'in-progress' | 'ongoing';
  role?: string;
  highlights?: string[];
}

const { title, description, link, linkText, tags, year, status, role, highlights } = Astro.props;
---

<article class="project-card">
  <div class="card-content">
    <div class="card-header">
      <div class="title-row">
        <h3 class="card-title">{title}</h3>
        {year && <span class="card-year">{year}</span>}
      </div>
      {(status || role) && (
        <div class="meta-row">
          {status && (
            <span class={`status-badge status-${status}`}>
              {status === 'completed' ? '✓ Completed' :
               status === 'in-progress' ? '⟳ In Progress' :
               '◉ Ongoing'}
            </span>
          )}
          {role && <span class="role-badge">{role}</span>}
        </div>
      )}
    </div>

    <p class="card-description">{description}</p>

    {highlights && highlights.length > 0 && (
      <ul class="highlights-list">
        {highlights.map((highlight) => (
          <li>{highlight}</li>
        ))}
      </ul>
    )}

    <div class="card-footer">
      <div class="tags-container">
        {tags.map((tag) => (
          <span class="tag-wrapper">
            <span class="tag-content">{tag}</span>
          </span>
        ))}
      </div>

      <a href={link} class="card-link" target="_blank" rel="noreferrer noopener">
        <span>{linkText}() <i class="fa-solid fa-arrow-up-right-from-square"></i></span>
      </a>
    </div>
  </div>
</article>
