---
const { title } = Astro.props;
import Navigation from "../components/Navigation.astro";
import "../styles/global.scss";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico">
    <script
      is:inline
      src="https://kit.fontawesome.com/c34400693d.js"
      crossorigin="anonymous"></script>
    <script src="../styles/global.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content={Astro.generator} />
    <title>Portfolio - {title}</title>
  </head>
  <body>
    <div class="site-wrapper">
      <Navigation />

      <main class="main-content">
        <div class="content-container">
          <slot />
        </div>
      </main>

      <footer class="site-footer">
        <div class="footer-content">
          <div class="footer-info">
            <div class="footer-name">
              <h3>David Gyongyosi</h3>
              <p class="footer-email">david.gyongyosi@majin.dev</p>
            </div>
            <p class="footer-tagline">Full-stack Developer & Tech Enthusiast</p>
          </div>
          <div class="footer-social">
            <h3>Connect</h3>
            <ul class="social-links">
              <li>
                <a
                  href="https://github.com/davidgyongyosi"
                  target="_blank"
                  rel="noreferrer noopener"
                  aria-label="GitHub"
                  title="GitHub"
                >
                  <i class="fa-brands fa-github fa-icons"></i>
                </a>
              </li>
              <li>
                <a
                  href="https://www.linkedin.com/in/davidgyongyosi/"
                  target="_blank"
                  rel="noreferrer noopener"
                  aria-label="LinkedIn"
                  title="LinkedIn"
                >
                  <i class="fa-brands fa-linkedin fa-icons"></i>
                </a>
              </li>
              <li>
                <a
                  href="https://www.facebook.com/david.gyongyosi88"
                  target="_blank"
                  rel="noreferrer noopener"
                  aria-label="Facebook"
                  title="Facebook"
                >
                  <i class="fa-brands fa-facebook fa-icons"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; {new Date().getFullYear()} David Gyongyosi. All rights reserved.</p>
        </div>
      </footer>
    </div>
  </body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Highlight active navigation link
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll(".nav-link");

    navLinks.forEach((link) => {
      const href = link.getAttribute("href");
      if (!href) return;

      // Match exact path or root path
      if (href === currentPath ||
          (currentPath === "/" && href === "/") ||
          (currentPath.startsWith(href) && href !== "/")) {
        link.classList.add("active");
      }
    });
  });
</script>
